window.onload=function(){function e(){g.fillStyle=C.color,g.fillRect(C.xStart,C.yStart,C.width,C.height)}function t(e){g.fillStyle=e.color,g.fillRect(e.x,e.y,e.width,e.height)}function n(e){for(var n=0;n<e.length;n++)t(e[n])}function o(){var e=D.x>=0||v>0,t=D.x<=f.width-D.width||0>v;return e&&t}function i(){var e=D.y>=0||x>0,t=D.y<=f.height-D.height||0>x;return t&&e}function r(e,t){var n=e.x+e.width>=t.x&&t.x+t.width>=e.x,o=e.y>=t.y&&e.y+e.height<=t.y+t.height;return n&&o}function d(e,t){for(var n=0;n<t.length;n++)return r(e,t[n])}function c(){r(D,S)&&(k.textContent="",m.textContent="You destroyed the Death Star!")}function h(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function l(e){return F[e.keyCode]?(h(e),!1):void 0}function u(){window.addEventListener&&window.addEventListener("DOMMouseScroll",h,!1),document.onkeydown=l}function a(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",h,!1),document.onkeydown=null}function w(){u(),window.scrollTo(0,document.body.scrollHeight)}function y(){e(),d(D,A)&&console.log("collision"),o()&&(D.x+=v/60*E),i()&&(D.y+=x/60*E),n([D,S,L,b,p]),c(),requestAnimationFrame(y)}var s=0,f=document.getElementById("spaceField"),g=f.getContext("2d"),v=0,x=0,m=document.getElementById("page-header"),k=document.getElementById("instructions"),F={37:1,38:1,39:1,40:1},E=100,S={height:15,width:20,x:280,y:65,color:"#00FF00"},C={xStart:0,yStart:0,height:150,width:300,color:"#000000"},L={height:5,width:10,x:75,y:145,color:"#FFA500"},b={height:5,width:10,x:150,y:145,color:"#FFA500"},p={height:5,width:10,x:225,y:145,color:"#FFA500"},A=[L,b,p],D={height:10,width:15,x:10,y:10,color:"#FF0000"};f.addEventListener("click",w),document.addEventListener("keydown",function(e){if(s!=e.keyCode)switch(s=e.keyCode,e.keyCode){case 37:v=-1;break;case 38:x=-1;break;case 39:v=1;break;case 40:x=1}}),document.addEventListener("keyup",function(e){switch(e.keyCode){case 37:case 39:v=0;break;case 38:case 40:x=0}s=0}),requestAnimationFrame(y)};