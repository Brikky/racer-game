window.onload=function(){function e(){h.fillStyle=u.color,h.fillRect(u.xStart,u.yStart,u.width,u.height)}function t(e){h.fillStyle=e.color,h.fillRect(e.x,e.y,e.width,e.height)}function i(e){for(var i=0;i<e.length;i++)t(e[i])}function n(){var e=y.x>=0||f>0,t=y.x<=r.width-y.width||0>f,i=y.y>=0||s>0,n=y.y<=r.height-y.height||0>s;return e&&t&&n&&i}function o(){var e=y.x>=l.x,t=y.y>=l.y&&y.y+y.height<=l.y+l.height;return e&&t}function c(){o()&&alert("You won!")}function a(){e(),n()&&(y.x+=f/60*w,y.y+=s/60*w),i([y,l]),c(),requestAnimationFrame(a)}var r=document.getElementById("spaceField"),h=r.getContext("2d"),d=!1,y={height:10,width:15,x:10,y:10,color:"#FF0000"},l={height:15,width:20,x:280,y:65,color:"#00FF00"},u={color:"#000000",xStart:0,yStart:0,height:150,width:300},f=0,s=0,w=100,g=0;document.addEventListener("keydown",function(e){if(g!=e.keyCode)switch(g=e.keyCode,e.keyCode){case 37:f=-1;break;case 38:s=-1;break;case 39:f=1;break;case 40:s=1}}),document.addEventListener("keyup",function(e){switch(e.keyCode){case 37:case 39:f=0;break;case 38:case 40:s=0}g=0}),requestAnimationFrame(a)};