window.onload=function(){function e(){f.fillStyle=F.color,f.fillRect(F.xStart,F.yStart,F.width,F.height)}function n(e){f.fillStyle=e.color,f.fillRect(e.x,e.y,e.width,e.height)}function t(e){for(var t=0;t<e.length;t++)n(e[t])}function o(){var e=E.x>=0||m>0||0!=v,n=E.x<=s.width-E.width||0>m||0!=v,t=E.y>=0||v>0||0!=m,o=E.y<=s.height-E.height||0>v||0!=m;return e&&n&&o&&t}function i(){var e=E.x>=S.x,n=E.y>=S.y&&E.y+E.height<=S.y+S.height;return e&&n}function d(){i()&&alert("You won!")}function c(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function l(e){return k[e.keyCode]?(c(e),!1):void 0}function r(){window.addEventListener&&window.addEventListener("DOMMouseScroll",c,!1),window.onwheel=c,window.onmousewheel=document.onmousewheel=c,window.ontouchmove=c,document.onkeydown=l}function u(){r(),window.scrollTo(0,document.body.scrollHeight)}function w(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",c,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function h(){e(),o()&&(E.x+=m/60*x,E.y+=v/60*x),t([E,S]),d(),requestAnimationFrame(h)}var a=0,s=document.getElementById("spaceField"),y=document.getElementById("container"),f=s.getContext("2d"),m=0,v=0,g=!1,k={37:1,38:1,39:1,40:1},x=100,E={height:10,width:15,x:10,y:10,color:"#FF0000"},S={height:15,width:20,x:280,y:65,color:"#00FF00"},F={color:"#000000",xStart:0,yStart:0,height:150,width:300};document.addEventListener("keydown",function(e){if(a!=e.keyCode)switch(a=e.keyCode,e.keyCode){case 37:m=-1;break;case 38:v=-1;break;case 39:m=1;break;case 40:v=1}}),document.addEventListener("keyup",function(e){switch(e.keyCode){case 37:case 39:m=0;break;case 38:case 40:v=0}a=0}),s.addEventListener("click",u),requestAnimationFrame(h)};