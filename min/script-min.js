window.onload=function(){function e(e){return(elem=document.getElementById(e)).parentNode.removeChild(elem)}function t(){q.fillStyle=S.color,q.fillRect(S.xStart,S.yStart,S.width,S.height)}function n(e){q.fillStyle=e.color,q.fillRect(e.x,e.y,e.width,e.height)}function o(e){for(var t=0;t<e.length;t++)n(e[t])}function i(){var e=A.x>=0||O>0,t=A.x<=M.width-A.width||0>O;return e&&t}function r(){var e=A.y>=0||R>0,t=A.y<=M.height-A.height||0>R;return t&&e}function d(e,t){return!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)}function h(){for(var e=0;e<I.length;e++)0==I[e].y&&(I[e].y=140),I[e].y-=1}function c(e,t){for(var n=0;n<t.length;n++)if(d(e,t[n]))return!0}function l(){H.textContent="You've been destroyed!",M.remove()}function u(){d(A,C)&&(N.textContent="",H.textContent="You destroyed the Death Star!")}function f(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function a(e){return T[e.keyCode]?(f(e),!1):void 0}function y(){window.addEventListener&&window.addEventListener("DOMMouseScroll",f,!1),document.onkeydown=a}function w(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",f,!1),document.onkeydown=null}function g(){y(),window.scrollTo(0,document.body.scrollHeight)}function s(){t(),i()&&(A.x+=O/60*j),r()&&(A.y+=R/60*j),h(),o(Y),c(A,B)&&l(),u(),requestAnimationFrame(s)}var x={height:5,width:2,x:79,y:100,color:"#39ff14"},m={height:5,width:2,x:154,y:140,color:"#39ff14"},v={height:5,width:2,x:229,y:100,color:"#39ff14"},k={height:5,width:2,x:79,y:30,color:"#39ff14"},E={height:5,width:2,x:154,y:60,color:"#39ff14"},F={height:5,width:2,x:229,y:30,color:"#39ff14"},C={height:15,width:20,x:280,y:65,color:"#adff00"},S={xStart:0,yStart:0,height:150,width:300,color:"#000000"},L={height:5,width:10,x:75,y:145,color:"#FFA500"},b={height:5,width:10,x:150,y:145,color:"#FFA500"},p={height:5,width:10,x:225,y:145,color:"#FFA500"},A={height:10,width:15,x:10,y:10,color:"#FF0000"},D=0,B=[L,b,p,x,m,v,k,E,F],I=[x,m,v,k,E,F],M=document.getElementById("spaceField"),q=M.getContext("2d"),O=0,R=0,Y=[A,C,L,b,p,x,m,v,k,E,F],H=document.getElementById("page-header"),N=document.getElementById("instructions"),T={37:1,38:1,39:1,40:1},V=[L,b,p],j=100;M.addEventListener("click",g),document.addEventListener("keydown",function(e){if(D!=e.keyCode)switch(D=e.keyCode,e.keyCode){case 37:O=-1;break;case 38:R=-1;break;case 39:O=1;break;case 40:R=1}}),document.addEventListener("keyup",function(e){switch(e.keyCode){case 37:case 39:O=0;break;case 38:case 40:R=0}D=0}),requestAnimationFrame(s)};